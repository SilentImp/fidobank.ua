var __bind=function(t,i){return function(){return t.apply(i,arguments)}},__indexOf=[].indexOf||function(t){for(var i=0,s=this.length;s>i;i++)if(i in this&&this[i]===t)return i;return-1};define([],function(){var t;return t=function(){function t(){this.keyUp=__bind(this.keyUp,this),this.filterCyrillic=__bind(this.filterCyrillic,this),this.checkRussian=__bind(this.checkRussian,this),this.enter=13,this.esc=27,this.dash=189,this.ctrl=17,this.cmd=91,this.shift=16,this.alt=18,this.space=32,this.chars=[this.dash,this.space],this.r=82,this.numbers=[48,49,50,51,52,53,54,55,56,57],this.controls=[8,9,45,46,39,37,this.esc,this.ctrl,this.alt,this.shift,this.enter,this.cmd],this.controlsPressed=[],this.itype="click",$("html").hasClass("touch")&&(this.itype="touchstart"),this.widget=$(".callback-form"),this.tel=this.widget.find("input[name=phone]"),this.name=this.widget.find("input[name=person]"),this.tel.on("keyup",this.keyUp),this.name.on("keyup",this.keyUp),this.name.on("keyup",this.checkRussian),this.name.on("keydown",this.filterCyrillic)}return t.prototype.checkRussian=function(){var t;return t=this.name.val(),null!==t.match(/[^\sа-я]/gi)?this.name.val(t.replace(/[^\sа-я]/,"")):void 0},t.prototype.filterCyrillic=function(t){var i,s,e,h,n;switch(e=String.fromCharCode(t.which),e=null===e.match(/[a-z]/i),h=t.which,__indexOf.call(this.controls,h)<0&&e&&t.which!==this.space&&t.preventDefault(),n=t.which,__indexOf.call(this.controls,n)>=0&&this.controlsPressed.indexOf(t.which)<0&&this.controlsPressed.push(t.which),t.which===this.space&&this.name.val().split(" ").length-1===3&&t.preventDefault(),t.which){case this.r:if(i=this.controlsPressed.indexOf(this.cmd)>-1,s=this.controlsPressed.indexOf(this.ctrl)>-1,!i&&!s)return t.preventDefault();break;case this.esc:return t.preventDefault(),this.name.blur();case this.enter:return t.preventDefault(),this.name.blur()}},t.prototype.keyUp=function(t){var i;return i=this.controlsPressed.indexOf(t.which),i>-1?this.controlsPressed.splice(i,1):void 0},t}()});